!function(t){function r(t,r){var o=t.call?t:function(){return t};return new n(o,r)}r.add=function(t,r){n.prototype[t]=r};var n=function(t,r){this._tail=r,this._prop=r?r._prop:r,this._data=function(n){return t(r?r._data(n):n)}};n.prototype.prop=function(t){return this._prop=t,r(function(r){return r[t]},this)},n.prototype.path=function(t){return t.reduce(function(t,n){return t._prop=n,r(function(t){return t[n]},t)},this)},n.prototype.prev=function(t){if(!t)return this._tail;for(var r=this,n=0;t>n;n++)r=r._tail;return r},n.prototype.set=function(t){var r=this._tail.data();return r[this._prop]=t,this},n.prototype.propset=function(t,r){var n=this._data();return n[t]=r,this},n.prototype.then=function(t){var r=this._tail.data();return r[this._prop]=t(r[this._prop]),this},n.prototype.data=function(){return this._data()},n.prototype.value=function(){for(var t=this;t._tail;)t=t._tail;return this._data(),t._data()},"function"==typeof define&&define.amd?define(function(){return r}):"undefined"!=typeof module&&module.exports?module.exports=r:t.walker=r}(window);
